/*! For license information please see main.87f96dad467ac6fab3d8.bundle.js.LICENSE.txt */
(()=>{var e,s={59:(e,s,t)=>{"use strict";t(260);class r{constructor(e,s,t,r){this.camera=e.cameras.main,this.scene=e,e.physics.world.setBounds(0,150,s,e.HEIGHT-150),e.physics.world.setBoundsCollision(),e.cameras.main.setBounds(0,0,s,e.HEIGHT),this.bakgrund=e.add.tileSprite(0,0,s,e.HEIGHT,r),this.bakgrund.setOrigin(0).setScrollFactor(0),this.bakgrund.fixedToCamera=!0,this.mark=e.add.tileSprite(0,0,s,e.HEIGHT,t),this.mark.setOrigin(0).setScrollFactor(1),this.mark.fixedToCamera=!0;let i=e.add.tileSprite(0,e.HEIGHT-100,s,e.HEIGHT,"förgrund2");i.setOrigin(0).setScrollFactor(1.5),i.fixedToCamera=!0;let a=e.add.tileSprite(0,e.HEIGHT-100,s,e.HEIGHT,"förgrund1");a.setOrigin(0).setScrollFactor(2),a.fixedToCamera=!0}update(e,s){}}class i extends Phaser.Physics.Arcade.Sprite{constructor(e,s,t,r,i){super(e,s,t,r),this.max_speed=5,this.knocked_out=0,this.punch=!1,this.player=!1,i&&(this.cursors=i,this.setInteractive(),this.player=!0),e.add.existing(this),e.physics.add.existing(this),e.physics.world.enable(this,0),this.setCollideWorldBounds(!0),e.anims.create({key:"east",frameRate:10,frames:e.anims.generateFrameNumbers("annie_run",{start:0,end:11}),repeat:-1}),this.play("east")}playerControl(){let e=[0,0];this.cursors.left.isDown?e[0]=-1:this.cursors.right.isDown&&(e[0]=1),this.cursors.up.isDown?e[1]=-1:this.cursors.down.isDown&&(e[1]=1);let s=Math.abs(Math.sqrt(e[0]*e[0]+e[1]*e[1]));return 0==s&&(s=1),this.cursors.space.isDown?this.punch=!0:this.punch=!1,[e[0]/s*this.max_speed,e[1]/s*this.max_speed]}update(e,s){let t=[0,0];this.knocked_out>0?(t[0]=0,this.knocked_out-=s/1e3):this.player?t=this.playerControl():(t[0]=.2*this.max_speed,t[1]=0),this.setVelocityX(t[0]*s),this.setVelocityY(t[1]*s)}}class a extends Phaser.Scene{constructor(){super({key:"MainScene"}),this.levels=[],this.goal=1400}init(){this.WIDTH=this.sys.game.canvas.width,this.HEIGHT=this.sys.game.canvas.height,this.level=new r(this,this.goal,"gata","himmel"),this.spelare=new i(this,250,200,"vansterpartiet",this.input.keyboard.createCursorKeys());let e=[this.spelare,new i(this,150,200,"socialdemokraterna"),new i(this,50,200,"miljöpartiet"),new i(this,100,300,"sverigedemokraterna"),new i(this,200,300,"moderaterna"),new i(this,50,400,"liberalerna"),new i(this,150,400,"kristdemokraterna"),new i(this,250,400,"centern")];this.riksdagen=new Phaser.Physics.Arcade.Group(this.physics.world,this,e),this.hinder=new Phaser.Physics.Arcade.Group(this.physics.world,this)}create(){console.log("Main Scene");for(let e=0;e<3;e++)this.hinder.create(Phaser.Math.Between(this.WIDTH/2,2*this.WIDTH),Phaser.Math.Between(0,this.HEIGHT),"peng")}update(e,s){let t=this.cameras.main,r=0,i=t.worldView.x;this.physics.world.overlap(this.riksdagen,this.hinder,this.hinderCollision),this.physics.world.overlap(this.riksdagen,this.riksdagen,this.riksdagskollision),this.riksdagen.children.each((a=>{a.update(e,s),a.x>r&&(r=a.x,t.centerOnX(r)),(i>a.x||a.x>this.goal)&&(this.riksdagen.remove(a,!0,!0),a.player&&this.scene.start("PostScene"))})),this.level.update(e,s)}hinderCollision(e,s){e.knocked_out=1}riksdagskollision(e,s){e.punch&&(s.knocked_out=1)}}class n extends Phaser.Scene{constructor(){super({key:"PostScene"})}create(){console.log("Game over"),this.cursors=this.input.keyboard.createCursorKeys(),this.add.sprite(0,0,"postGame").setOrigin(0)}update(){this.cursors.space.isDown&&this.scene.start("TitleScene")}}class o extends Phaser.Scene{constructor(){super({key:"TitleScene"})}create(){console.log("PreGame"),this.cursors=this.input.keyboard.createCursorKeys(),this.add.sprite(0,0,"title").setOrigin(0)}update(){this.cursors.space.isDown&&this.scene.start("LevelSelectScene")}}class c extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.load.spritesheet("annie_run","assets/img/Annie_spring-Sheet.png",{frameWidth:40,frameHeight:80}),this.load.image("gata","assets/img/Gata.png"),this.load.image("himmel","assets/img/Himmel och skyline.png"),this.load.image("förgrund1","assets/img/Förgrund1.png"),this.load.image("förgrund2","assets/img/Förgrund2.png"),this.load.image("splash","assets/img/splash.png"),this.load.image("title","assets/img/titel.png"),this.load.image("levelSetting","assets/img/levelSettings.png"),this.load.image("charSelect","assets/img/charSelect.png"),this.load.image("postGame","assets/img/postGame.png"),this.load.image("peng","assets/img/Peng.png")}create(){console.log("PreLoad"),this.scene.start("SplashScene")}}class h extends Phaser.Scene{constructor(){super({key:"SplashScene"}),this.fade_time=1e3}preload(){}create(){console.log("Splash"),this.add.sprite(0,0,"splash").setOrigin(0),this.cameras.main.once("camerafadeincomplete",(function(e){e.fadeOut(e.scene.fade_time)})),this.cameras.main.once("camerafadeoutcomplete",(function(e){e.scene.scene.start("TitleScene")})),this.cameras.main.fadeIn(this.fade_time)}}class l extends Phaser.Scene{constructor(){super({key:"LevelSelectScene"})}create(){console.log("LevelSelectScene"),this.cursors=this.input.keyboard.createCursorKeys(),this.add.sprite(0,0,"levelSetting").setOrigin(0)}update(){this.cursors.space.isDown&&this.scene.start("CharSelectScene")}}class d extends Phaser.Scene{constructor(){super({key:"CharSelectScene"})}create(){console.log("CharSelectScene"),this.cursors=this.input.keyboard.createCursorKeys(),this.add.sprite(0,0,"charSelect").setOrigin(0)}update(){this.cursors.space.isDown&&this.scene.start("MainScene")}}const p={type:Phaser.AUTO,backgroundColor:"#ff23ff",pixelArt:!0,width:960,height:540,scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:960,height:540},scene:[c,h,o,l,d,a,n],physics:{default:"arcade",arcade:{debug:!1,gravity:{y:0}}}};window.addEventListener("load",(()=>{new Phaser.Game(p)}))},204:()=>{console.log("%c %c %c %c %c Built using phaser-project-template %c https://github.com/yandeu/phaser-project-template","background: #ff0000","background: #ffff00","background: #00ff00","background: #00ffff","color: #fff; background: #000000;","background: none")}},t={};function r(e){var i=t[e];if(void 0!==i)return i.exports;var a=t[e]={exports:{}};return s[e].call(a.exports,a,a.exports,r),a.exports}r.m=s,e=[],r.O=(s,t,i,a)=>{if(!t){var n=1/0;for(l=0;l<e.length;l++){for(var[t,i,a]=e[l],o=!0,c=0;c<t.length;c++)(!1&a||n>=a)&&Object.keys(r.O).every((e=>r.O[e](t[c])))?t.splice(c--,1):(o=!1,a<n&&(n=a));if(o){e.splice(l--,1);var h=i();void 0!==h&&(s=h)}}return s}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[t,i,a]},r.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={179:0};r.O.j=s=>0===e[s];var s=(s,t)=>{var i,a,[n,o,c]=t,h=0;if(n.some((s=>0!==e[s]))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(c)var l=c(r)}for(s&&s(t);h<n.length;h++)a=n[h],r.o(e,a)&&e[a]&&e[a][0](),e[n[h]]=0;return r.O(l)},t=self.webpackChunkphaser_project_template=self.webpackChunkphaser_project_template||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})(),r.O(void 0,[216],(()=>r(59)));var i=r.O(void 0,[216],(()=>r(204)));i=r.O(i)})();