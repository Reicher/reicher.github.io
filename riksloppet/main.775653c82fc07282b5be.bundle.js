/*! For license information please see main.775653c82fc07282b5be.bundle.js.LICENSE.txt */
(()=>{var e,s={135:(e,s,t)=>{"use strict";t(260);class i extends Phaser.Physics.Arcade.Sprite{constructor(e,s,t,i,a){super(e,s,t,"annie_stopp"),this.max_speed=8,this.rest_speed=8,this.knocked_out=0,this.punch=!1,this.player=!1,this.aiAction=0,this.aiDir=[0,0],this.dir=[0,0],a&&(this.cursors=a,this.setInteractive(),this.player=!0),e.anims.create({key:"spring",frameRate:20,frames:e.anims.generateFrameNumbers("annie_run",{start:0,end:11}),repeat:-1}),e.anims.create({key:"stopp",frameRate:40,frames:e.anims.generateFrameNumbers("annie_stopp",{start:0,end:5}),repeat:0}),e.add.existing(this),e.physics.add.existing(this),this.setBodySize(30,30),this.body.setOffset(10,50)}getSpeedFromDir(e,s){let t=Math.abs(Math.sqrt(e*e+s*s));return 0==t&&(t=1),[e/t*this.max_speed,s/t*this.max_speed]}playerControl(e,s){this.cursors.left.isDown?this.dir[0]=-1:this.cursors.right.isDown&&(this.dir[0]=1),this.cursors.up.isDown?this.dir[1]=-1:this.cursors.down.isDown&&(this.dir[1]=1),this.cursors.space.isDown?this.punch=!0:this.punch=!1,console.log(this.anims.isPlaying)}aiControl(e,s){this.aiAction<=0&&(this.aiDir=[1,Phaser.Math.Between(-100,100)/100],this.aiAction=Phaser.Math.Between(.3,1)),this.dir=this.aiDir}update(e,s){this.dir=[0,0],this.knocked_out>0?this.knocked_out-=s/1e3:this.player?this.playerControl(e,s):(this.aiAction>0&&(this.aiAction-=s/1e3),this.aiControl(e,s)),this.max_speed>this.rest_speed?this.max_speed-=s/1e3:this.max_speed<this.rest_speed&&(this.max_speed+=s/1e3);let t=this.getSpeedFromDir(this.dir[0],this.dir[1]);this.anims.animationManager.get("spring"),0!=t[0]||0!=t[1]?this.anims.play("spring",!0):this.anims.currentAnim&&"stopp"!=this.anims.currentAnim.key&&this.anims.play("stopp",!0),t[0]>=0?this.setFlipX(!1):this.setFlipX(!0),this.setVelocityX(t[0]*s),this.setVelocityY(t[1]*s),this.depth=this.y}}class a extends Phaser.Scene{constructor(){super({key:"MainScene"}),this.goal=2500}init(){this.WIDTH=this.sys.game.canvas.width,this.HEIGHT=this.sys.game.canvas.height,this.cameras.main.setBounds(0,0,this.goal,this.HEIGHT,!0),this.physics.world.setBounds(0,140,this.goal+100,this.HEIGHT-140),this.physics.world.setBoundsCollision(),this.add.tileSprite(0,0,this.goal,this.HEIGHT,"himmel").setOrigin(0).setScrollFactor(.6),this.add.tileSprite(0,0,this.goal,this.HEIGHT,"gata").setOrigin(0).setScrollFactor(1),this.spelare=new i(this,250,200,"vansterpartiet",this.input.keyboard.createCursorKeys());let e=[this.spelare,new i(this,150,200,"socialdemokraterna"),new i(this,50,200,"miljöpartiet"),new i(this,100,300,"sverigedemokraterna"),new i(this,200,300,"moderaterna"),new i(this,50,400,"liberalerna"),new i(this,150,400,"kristdemokraterna"),new i(this,250,400,"centern")];this.riksdagen=new Phaser.Physics.Arcade.Group(this.physics.world,this,e),this.riksdagen.children.each((e=>{e.setCollideWorldBounds(!0)})),this.updut=new Phaser.Physics.Arcade.Group(this.physics.world,this),this.neddut=new Phaser.Physics.Arcade.Group(this.physics.world,this),this.hinder=new Phaser.Physics.Arcade.Group(this.physics.world,this),this.hinder=new Phaser.Physics.Arcade.Group(this.physics.world,this),this.statist=new Phaser.Physics.Arcade.Group(this.physics.world,this);let s=this.add.tileSprite(0,this.HEIGHT-100,this.goal,this.HEIGHT,"förgrund2");s.setOrigin(0).setScrollFactor(1.5),s.depth=this.WIDTH+10;let t=this.add.tileSprite(0,this.HEIGHT-100,this.goal,this.HEIGHT,"förgrund1");t.setOrigin(0).setScrollFactor(2),t.depth=this.WIDTH+11}create(){console.log("Main Scene");for(let e=0;e<10;e++)this.updut.create(Phaser.Math.Between(this.WIDTH/2,this.goal),Phaser.Math.Between(140,this.HEIGHT),"peng").value=2,this.neddut.create(Phaser.Math.Between(this.WIDTH/2,this.goal),Phaser.Math.Between(140,this.HEIGHT),"neddut").value=2;for(let e=0;e<3;e++)this.hinder.create(Phaser.Math.Between(this.WIDTH/2,this.goal),Phaser.Math.Between(150,this.HEIGHT-100),"bil").setImmovable(!0);let e=this.WIDTH/2,s=this.WIDTH/2;for(let t=0;t<40;t++){e=Phaser.Math.Between(e+50,e+120),s=Phaser.Math.Between(s+50,s+120);let t=this.statist.create(e,130,"statist");t.anims.create({key:"smält",frameRate:20,frames:this.anims.generateFrameNumbers("statist",{start:0,end:8}),repeat:0}),t.value=1;let i=this.statist.create(s,this.HEIGHT-70,"statist");i.anims.create({key:"smält",frameRate:20,frames:this.anims.generateFrameNumbers("statist",{start:0,end:8}),repeat:0}),i.value=1}this.physics.add.collider(this.riksdagen,this.hinder)}update(e,s){let t=0,i=this.cameras.main.worldView.x;this.physics.world.overlap(this.riksdagen,this.updut,this.updutCollision),this.physics.world.overlap(this.riksdagen,this.neddut,this.neddutCollision),this.physics.world.overlap(this.riksdagen,this.kastbar,this.kastbarCollision),this.physics.world.overlap(this.riksdagen,this.riksdagen,this.riksdagskollision),this.physics.world.overlap(this.riksdagen,this.statist,this.statistCollision),this.riksdagen.children.each((a=>{a.update(e,s),a.x>t&&(t=a.x,this.cameras.main.centerOnX(t)),(i>a.x||a.x>this.goal)&&(this.riksdagen.remove(a,!0,!0),a.player&&this.scene.start("PostScene"))}))}updutCollision(e,s){e.max_speed+=s.value,s.destroy()}neddutCollision(e,s){e.max_speed-=s.value,s.destroy()}statistCollision(e,s){e.knocked_out=1,s.play("smält",!0),s.once("animationcomplete",(()=>{s.destroy()}))}kastbarCollision(e,s){}riksdagskollision(e,s){e.punch&&(s.knocked_out=.7)}}class r extends Phaser.Scene{constructor(){super({key:"PostScene"})}create(){console.log("Game over"),this.cursors=this.input.keyboard.createCursorKeys(),this.add.sprite(0,0,"postGame").setOrigin(0)}update(){this.cursors.space.isDown&&this.scene.start("TitleScene")}}class h extends Phaser.Scene{constructor(){super({key:"TitleScene"})}create(){console.log("PreGame"),this.cursors=this.input.keyboard.createCursorKeys(),this.add.sprite(0,0,"title").setOrigin(0)}update(){this.cursors.space.isDown&&this.scene.start("LevelSelectScene")}}class n extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.load.spritesheet("annie_run","assets/img/Annie_spring-Sheet.png",{frameWidth:40,frameHeight:80}),this.load.spritesheet("annie_stopp","assets/img/Annie_stopp-Sheet.png",{frameWidth:40,frameHeight:80}),this.load.spritesheet("statist","assets/img/statist.png",{frameWidth:89,frameHeight:100}),this.load.image("gata","assets/img/Gata.png"),this.load.image("himmel","assets/img/Himmel och skyline.png"),this.load.image("förgrund1","assets/img/Förgrund1.png"),this.load.image("förgrund2","assets/img/Förgrund2.png"),this.load.image("splash","assets/img/splash.png"),this.load.image("title","assets/img/titel.png"),this.load.image("levelSetting","assets/img/levelSettings.png"),this.load.image("charSelect","assets/img/charSelect.png"),this.load.image("postGame","assets/img/postGame.png"),this.load.image("bil","assets/img/Blå bil.png"),this.load.image("peng","assets/img/Peng.png"),this.load.image("neddut","assets/img/neddut.png")}create(){console.log("PreLoad"),this.scene.start("MainScene")}}class o extends Phaser.Scene{constructor(){super({key:"SplashScene"}),this.fade_time=1e3}preload(){}create(){console.log("Splash"),this.add.sprite(0,0,"splash").setOrigin(0),this.cameras.main.once("camerafadeincomplete",(function(e){e.fadeOut(e.scene.fade_time)})),this.cameras.main.once("camerafadeoutcomplete",(function(e){e.scene.scene.start("TitleScene")})),this.cameras.main.fadeIn(this.fade_time)}}class c extends Phaser.Scene{constructor(){super({key:"LevelSelectScene"})}create(){console.log("LevelSelectScene"),this.cursors=this.input.keyboard.createCursorKeys(),this.add.sprite(0,0,"levelSetting").setOrigin(0)}update(){this.cursors.space.isDown&&this.scene.start("CharSelectScene")}}class l extends Phaser.Scene{constructor(){super({key:"CharSelectScene"})}create(){console.log("CharSelectScene"),this.cursors=this.input.keyboard.createCursorKeys(),this.add.sprite(0,0,"charSelect").setOrigin(0)}update(){this.cursors.space.isDown&&this.scene.start("MainScene")}}const d={type:Phaser.AUTO,backgroundColor:"#ff23ff",pixelArt:!0,width:960,height:540,scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:960,height:540},scene:[n,o,h,c,l,a,r],physics:{default:"arcade",arcade:{debug:!0,gravity:{y:0}}}};window.addEventListener("load",(()=>{new Phaser.Game(d)}))},204:()=>{console.log("%c %c %c %c %c Built using phaser-project-template %c https://github.com/yandeu/phaser-project-template","background: #ff0000","background: #ffff00","background: #00ff00","background: #00ffff","color: #fff; background: #000000;","background: none")}},t={};function i(e){var a=t[e];if(void 0!==a)return a.exports;var r=t[e]={exports:{}};return s[e].call(r.exports,r,r.exports,i),r.exports}i.m=s,e=[],i.O=(s,t,a,r)=>{if(!t){var h=1/0;for(l=0;l<e.length;l++){for(var[t,a,r]=e[l],n=!0,o=0;o<t.length;o++)(!1&r||h>=r)&&Object.keys(i.O).every((e=>i.O[e](t[o])))?t.splice(o--,1):(n=!1,r<h&&(h=r));if(n){e.splice(l--,1);var c=a();void 0!==c&&(s=c)}}return s}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[t,a,r]},i.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={179:0};i.O.j=s=>0===e[s];var s=(s,t)=>{var a,r,[h,n,o]=t,c=0;if(h.some((s=>0!==e[s]))){for(a in n)i.o(n,a)&&(i.m[a]=n[a]);if(o)var l=o(i)}for(s&&s(t);c<h.length;c++)r=h[c],i.o(e,r)&&e[r]&&e[r][0](),e[h[c]]=0;return i.O(l)},t=self.webpackChunkRiksloppet=self.webpackChunkRiksloppet||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})(),i.O(void 0,[216],(()=>i(135)));var a=i.O(void 0,[216],(()=>i(204)));a=i.O(a)})();