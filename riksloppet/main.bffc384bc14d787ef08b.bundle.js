/*! For license information please see main.bffc384bc14d787ef08b.bundle.js.LICENSE.txt */
(()=>{var e,t={135:(e,t,s)=>{"use strict";s(260);class i extends Phaser.Physics.Arcade.Sprite{constructor(e,t,s,i,a){super(e,t,s,"c_stopp"),this.max_speed=8,this.rest_speed=8,this.knocked_out=0,this.slår=!1,this.player=!1,this.aiAction=0,this.aiDir=[0,0],this.key="Politisk Vilde",this.key=i,a&&(this.cursors=a,this.setInteractive(),this.player=!0,e.input.on("pointerdown",(()=>{this.slå()}),this,this),e.input.keyboard.addKey("space").on("down",(()=>{this.slå()}),this,this)),e.anims.create({key:"spring",frameRate:20,frames:e.anims.generateFrameNumbers("c_run",{start:0,end:11}),repeat:-1}),e.anims.create({key:"stopp",frameRate:40,frames:e.anims.generateFrameNumbers("c_stopp",{start:0,end:5}),repeat:0}),e.anims.create({key:"slag",frameRate:30,frames:e.anims.generateFrameNumbers("c_slag",{start:0,end:5}),repeat:0}),e.add.existing(this),e.physics.add.existing(this),this.setBodySize(30,30),this.body.setOffset(10,50)}slå(){this.slår||(this.slår=!0,this.anims.play("slag"),this.scene.time.addEvent({delay:500,callback:()=>{this.slår=!1},callbackScope:this,loop:!1}))}getSpeedFromDir(e,t){let s=Math.abs(Math.sqrt(e*e+t*t));return 0==s&&(s=1),[e/s*this.max_speed,t/s*this.max_speed]}playerControl(e,t){let s=[0,0];this.cursors.left.isDown?s[0]=-1:this.cursors.right.isDown&&(s[0]=1),this.cursors.up.isDown?s[1]=-1:this.cursors.down.isDown&&(s[1]=1);let i=this.scene.input.activePointer;return i.isDown&&(s[0]=i.x-this.x+this.scene.cameras.main.scrollX,s[1]=i.y-this.y),s}aiControl(e,t){return this.aiAction<=0&&(this.aiDir=[1,Phaser.Math.Between(-100,100)/100],this.aiAction=Phaser.Math.Between(.3,1)),this.aiDir}update(e,t){let s=[0,0];this.knocked_out>0?this.knocked_out-=t/1e3:this.player?s=this.playerControl(e,t):(this.aiAction>0&&(this.aiAction-=t/1e3),s=this.aiControl(e,t)),this.max_speed>this.rest_speed?this.max_speed-=t/1e3:this.max_speed<this.rest_speed&&(this.max_speed+=t/1e3);let i=this.getSpeedFromDir(s[0],s[1]);this.anims.animationManager.get("spring"),0!=i[0]||0!=i[1]?this.anims.play("spring",!0):this.anims.currentAnim&&"stopp"!=this.anims.currentAnim.key&&this.anims.play("stopp",!0),i[0]>=0?this.setFlipX(!1):this.setFlipX(!0),this.setVelocityX(i[0]*t),this.setVelocityY(i[1]*t),this.depth=this.y}}class a extends Phaser.Scene{constructor(){super({key:"MainScene"}),this.goal=2500}init(){this.WIDTH=this.sys.game.canvas.width,this.HEIGHT=this.sys.game.canvas.height,this.cameras.main.setBounds(0,0,this.goal,this.HEIGHT,!0),this.physics.world.setBounds(0,140,this.goal+100,this.HEIGHT-140),this.physics.world.setBoundsCollision(),this.add.tileSprite(0,0,this.goal,this.HEIGHT,"himmel").setOrigin(0).setScrollFactor(.6),this.add.tileSprite(0,0,this.goal,this.HEIGHT,"gata").setOrigin(0).setScrollFactor(1),this.spelare=new i(this,250,200,"vansterpartiet",this.input.keyboard.createCursorKeys());let e=[this.spelare,new i(this,150,200,"socialdemokraterna"),new i(this,50,200,"miljöpartiet"),new i(this,100,300,"sverigedemokraterna"),new i(this,200,300,"moderaterna"),new i(this,50,400,"liberalerna"),new i(this,150,400,"kristdemokraterna"),new i(this,250,400,"centern")];this.riksdagen=new Phaser.Physics.Arcade.Group(this.physics.world,this,e),this.riksdagen.children.each((e=>{e.setCollideWorldBounds(!0)})),this.updut=new Phaser.Physics.Arcade.Group(this.physics.world,this),this.neddut=new Phaser.Physics.Arcade.Group(this.physics.world,this),this.hinder=new Phaser.Physics.Arcade.Group(this.physics.world,this),this.hinder=new Phaser.Physics.Arcade.Group(this.physics.world,this),this.statist=new Phaser.Physics.Arcade.Group(this.physics.world,this);let t=this.add.tileSprite(0,this.HEIGHT-100,this.goal,this.HEIGHT,"förgrund2");t.setOrigin(0).setScrollFactor(1.5),t.depth=this.WIDTH+10;let s=this.add.tileSprite(0,this.HEIGHT-100,this.goal,this.HEIGHT,"förgrund1");s.setOrigin(0).setScrollFactor(2),s.depth=this.WIDTH+11,this.vinnare=[]}create(){console.log("Main Scene");for(let e=0;e<10;e++)this.updut.create(Phaser.Math.Between(this.WIDTH/2,this.goal),Phaser.Math.Between(140,this.HEIGHT),"peng").value=2,this.neddut.create(Phaser.Math.Between(this.WIDTH/2,this.goal),Phaser.Math.Between(140,this.HEIGHT),"neddut").value=2;for(let e=0;e<3;e++){let e=this.hinder.create(Phaser.Math.Between(this.WIDTH/2,this.goal),Phaser.Math.Between(170,this.HEIGHT-100),"bil");e.setImmovable(!0),e.setBodySize(170,50),e.body.setOffset(0,50),e.depth=e.y}let e=this.WIDTH/2,t=this.WIDTH/2;for(let s=0;s<40;s++){e=Phaser.Math.Between(e+50,e+120),t=Phaser.Math.Between(t+50,t+120);let s=Phaser.Math.RND.pick(["statist_kast","statist"]),i=this.statist.create(e,130,s);i.anims.create({key:"smält",frameRate:20,frames:this.anims.generateFrameNumbers("statist",{start:0,end:8}),repeat:0}),i.value=1,i.setBodySize(60,30),i.body.setOffset(15,70),i.depth=i.y,s=Phaser.Math.RND.pick(["statist_kast","statist"]);let a=this.statist.create(t,this.HEIGHT-70,s);a.anims.create({key:"smält",frameRate:20,frames:this.anims.generateFrameNumbers("statist",{start:0,end:8}),repeat:0}),a.value=1,a.setBodySize(60,30),a.body.setOffset(15,70),a.depth=a.y}this.physics.add.collider(this.riksdagen,this.hinder)}update(e,t){let s=0,i=this.cameras.main.worldView.x;this.physics.world.overlap(this.riksdagen,this.updut,this.updutCollision),this.physics.world.overlap(this.riksdagen,this.neddut,this.neddutCollision),this.physics.world.overlap(this.riksdagen,this.kastbar,this.kastbarCollision),this.physics.world.overlap(this.riksdagen,this.riksdagen,this.riksdagskollision),this.physics.world.overlap(this.riksdagen,this.statist,this.statistCollision),this.riksdagen.children.each((a=>{a.update(e,t),a.x>s&&(s=a.x,this.cameras.main.centerOnX(s)),i>a.x&&this.riksdagen.remove(a,!0,!0),a.x>this.goal&&(this.vinnare.push(a),this.riksdagen.remove(a,!0,!0))})),this.riksdagen.getLength()<=0&&this.scene.start("PostScene")}updutCollision(e,t){e.max_speed+=t.value,t.destroy()}neddutCollision(e,t){e.max_speed-=t.value,t.destroy()}statistCollision(e,t){e.knocked_out=1,t.play("smält",!0),t.once("animationcomplete",(()=>{t.destroy()}))}kastbarCollision(e,t){}riksdagskollision(e,t){e.punch&&(t.knocked_out=.7)}}class r extends Phaser.Scene{constructor(){super({key:"PostScene"})}create(){console.log("Game over"),this.cursors=this.input.keyboard.createCursorKeys(),this.add.sprite(0,0,"postGame").setOrigin(0)}update(){this.cursors.space.isDown&&this.scene.start("TitleScene")}}class h extends Phaser.Scene{constructor(){super({key:"TitleScene"}),this.isClicking=!1}create(){console.log("PreGame"),this.cursors=this.input.keyboard.createCursorKeys(),this.add.sprite(0,0,"title").setOrigin(0),this.input.on("pointerdown",(()=>{this.scene.start("LevelSelectScene")}),this),this.input.keyboard.addKey("space").on("down",(()=>{this.scene.start("LevelSelectScene")}),this)}}class n extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.load.spritesheet("c_run","assets/img/Annie_spring-Sheet.png",{frameWidth:40,frameHeight:80}),this.load.spritesheet("c_stopp","assets/img/Annie_stopp-Sheet.png",{frameWidth:40,frameHeight:80}),this.load.spritesheet("c_slag","assets/img/Annie_slag-Sheet.png",{frameWidth:40,frameHeight:80}),this.load.image("c_porträtt","assets/img/Annie_porträtt.png"),this.load.image("kd_porträtt","assets/img/Ebba_porträtt.png"),this.load.image("logo","assets/img/tns-logo.png"),this.load.image("välj","assets/img/välj.png"),this.load.spritesheet("statist","assets/img/statist.png",{frameWidth:89,frameHeight:100}),this.load.image("statist_kast","assets/img/statist_kast.png"),this.load.image("gata","assets/img/Gata.png"),this.load.image("himmel","assets/img/Himmel och skyline.png"),this.load.image("förgrund1","assets/img/Förgrund1.png"),this.load.image("förgrund2","assets/img/Förgrund2.png"),this.load.image("splash","assets/img/splash.png"),this.load.image("title","assets/img/titel.png"),this.load.image("levelSetting","assets/img/levelSettings.png"),this.load.image("char_text","assets/img/char_text.png"),this.load.image("postGame","assets/img/postGame.png"),this.load.image("bil","assets/img/Blå bil.png"),this.load.image("peng","assets/img/Peng.png"),this.load.image("neddut","assets/img/neddut.png")}create(){console.log("PreLoad"),this.scene.start("SplashScene")}}class o extends Phaser.Scene{constructor(){super({key:"SplashScene"}),this.fade_time=1e3}create(){console.log("Splash"),this.cursors=this.input.keyboard.createCursorKeys(),this.add.sprite(480,270,"logo").setScale(2),this.cameras.main.once("camerafadeincomplete",(function(e){e.fadeOut(e.scene.fade_time)})),this.cameras.main.once("camerafadeoutcomplete",(function(e){e.scene.scene.start("TitleScene")})),this.input.on("pointerdown",(()=>{this.scene.start("TitleScene")}),this),this.input.keyboard.addKey("space").on("down",(()=>{this.scene.start("TitleScene")}),this),this.cameras.main.fadeIn(this.fade_time)}}class c extends Phaser.Scene{constructor(){super({key:"LevelSelectScene"})}create(){console.log("LevelSelectScene"),this.cursors=this.input.keyboard.createCursorKeys(),this.add.sprite(0,0,"levelSetting").setOrigin(0),this.input.on("pointerdown",(()=>{this.scene.start("CharSelectScene")}),this),this.input.keyboard.addKey("space").on("down",(()=>{this.scene.start("CharSelectScene")}),this)}}class l extends Phaser.Scene{constructor(){super({key:"CharSelectScene"}),this.partinamn=["kd","c"],this.characters=[]}addPorträtt(){for(let e=1;e<=4;e++)for(let t=1;t<=2;t++){let s=this.partinamn[(e+t)%this.partinamn.length],i=this.add.sprite(105+150*e,170*t,s+"_porträtt").setScale(1.3);i.setTint(12303291),i.setInteractive().on("pointerdown",(function(){this.characters.forEach((e=>{e.setTint(12303291)})),i.setTint(16777215),this.add.sprite(480,480,"välj").setInteractive().on("pointerdown",(function(){this.scene.start("MainScene")}),this)}),this),i.setInteractive().on("hover",(function(){}),this),this.characters.push(i)}}create(){console.log("CharSelectScene"),this.cursors=this.input.keyboard.createCursorKeys(),this.add.sprite(480,55,"char_text").setScale(.8),this.addPorträtt()}update(){}}const d={type:Phaser.AUTO,backgroundColor:"#000000",pixelArt:!0,width:960,height:540,scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:960,height:540},scene:[n,o,h,c,l,a,r],physics:{default:"arcade",arcade:{debug:!1,gravity:{y:0}}}};window.addEventListener("load",(()=>{new Phaser.Game(d)}))},204:()=>{console.log("%c %c %c %c %c Built using phaser-project-template %c https://github.com/yandeu/phaser-project-template","background: #ff0000","background: #ffff00","background: #00ff00","background: #00ffff","color: #fff; background: #000000;","background: none")}},s={};function i(e){var a=s[e];if(void 0!==a)return a.exports;var r=s[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.m=t,e=[],i.O=(t,s,a,r)=>{if(!s){var h=1/0;for(l=0;l<e.length;l++){for(var[s,a,r]=e[l],n=!0,o=0;o<s.length;o++)(!1&r||h>=r)&&Object.keys(i.O).every((e=>i.O[e](s[o])))?s.splice(o--,1):(n=!1,r<h&&(h=r));if(n){e.splice(l--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[s,a,r]},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var a,r,[h,n,o]=s,c=0;if(h.some((t=>0!==e[t]))){for(a in n)i.o(n,a)&&(i.m[a]=n[a]);if(o)var l=o(i)}for(t&&t(s);c<h.length;c++)r=h[c],i.o(e,r)&&e[r]&&e[r][0](),e[h[c]]=0;return i.O(l)},s=self.webpackChunkRiksloppet=self.webpackChunkRiksloppet||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),i.O(void 0,[216],(()=>i(135)));var a=i.O(void 0,[216],(()=>i(204)));a=i.O(a)})();